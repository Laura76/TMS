<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>学员管理</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="./layui/css/layui.css"  media="all">
  <link rel="stylesheet" href="./css/tms.css" media="all"> 
  <script src="./layui/layui.js" charset="utf-8"></script> 
</head>
<body>
  <div class="layui-row tmsrow">
    <div class="layui-col-md9">
      <h1 class="tmstitle">
      <b>XXXX学员管理系统</b>
	  </h1>
    </div>
    <div class="layui-col-md3">
    </div>
  </div>
  <div class="tmsside">
    <ul class="tmsul">
      <li class="tmsli"><a class="font" href="/tmsclass">班级管理</a></li>
      <li class="tmsli"><a class="font" href="tmsteacher">教师管理</a></li>
      <li class="tmslicurr"><a class="font" href="/tmsstudent">学员管理</a></li>
    </ul>
  </div>
  <div class="tmsbody">
  <form class="layui-form tmsform" action="">
  <div class="layui-form-item">
    <div class="layui-inline">
      <label class="layui-form-label">学员姓名:</label>
      <div class="layui-input-inline">
        <input name="clname" autocomplete="off" class="layui-input">
      </div>
      <label class="layui-form-label">班级名称:</label>
      <div class="layui-input-inline">
        <input name="clname" autocomplete="off" class="layui-input">
      </div>
      <div class="layui-input-inline">
        <button type="submit" class="layui-btn tmsbutton0" lay-submit="" lay-filter="demo1">查询</button>
        <button type="button" class="layui-btn layui-btn-radius tmsbutton0">导出</button>
      </div>
    </div>
  </div>
  </form>
  <button  type="button" class="layui-btn tmsbutton2" id="addTeacher">添加学员</button>
  <table id="demo" lay-filter="test"></table>
  </div>
  
  <script>
  layui.use(['table','form','laydate'], function()
	{
	  var table = layui.table;
	  var form=layui.form;
	  var $=layui.jquery;
	  var layer=layui.layer;
	  var laydate = layui.laydate;
	  form.on('submit(demo1)', function(data){
		var submitData=data.field;
		if(submitData.clname==''&&submitData.teacher==''){
			layer.msg('请输入班级或者教师');
			return false;
		}else{
			$.ajax({
		        url:'/class/searchClass',
		        type:'post',
		        dataType:'json',
		        contentType: 'application/json;charset=utf-8',
		        data:JSON.stringify(submitData),
		        timeout:2000,
		        success:function(data){
		            
		        },
		        error:function () {
		            layer.msg("密码或者用户名错误")
		        }
		    });
		}
	  });
	  $(document).on('click','#addTeacher',function(){
		  layer.open({
			skin:'demo-class'
	        ,type: 1
	        ,title: ['添加教师','text-align:center']
	        ,closeBtn: 1
	        ,area: ['800px','510px']
	        ,offset:'100px'
	        ,shade: 0.8
	        ,id: 'LAY_layuipro' //设定一个id，防止重复弹出
	        ,shade:0
	        ,moveType: 1 //拖拽模式，0或者1
	        ,content: 
	        	'<div class="layui-row">'+
	        	'<div class="layui-col-md7">'+
	        	'<form class="layui-form" action="" id="innerform">'+
	        	'<div class="layui-form-item">'+
	        	'<label class="layui-form-label">教师姓名</label>'+
	        	'<div class="layui-input-block">'+
	              '<input id="tename" type="text" lay-verify="title" autocomplete="off"  class="layui-input">'+
	            '</div>'+
	            '</div>'+
	            '<div class="layui-form-item">'+
	            '<label class="layui-form-label">性别</label>'+
	            '<div class="layui-input-block">'+
	              '<select name="interest" lay-filter="aihao">'+
	                '<option value="0" selected>男</option>'+
	                '<option value="1" >女</option>'+
	              '</select>'+
	            '</div>'+
	            '</div>'+
	            '<div class="layui-form-item">'+
	        	'<label class="layui-form-label">身份证号</label>'+
	        	'<div class="layui-input-block">'+
	              '<input id="tename" type="text" lay-verify="title" autocomplete="off"class="layui-input">'+
	            '</div>'+
	            '</div>'+
	            '<div class="layui-form-item">'+
	        	'<label class="layui-form-label">出生时间</label>'+
	        	'<div class="layui-input-block">'+
	        	  '<input type="text" class="layui-input" id="test1">'+
	            '</div>'+
	            '</div>'+
	            '<div class="layui-form-item">'+
	        	'<label class="layui-form-label">专业</label>'+
	        	'<div class="layui-input-block">'+
	              '<input id="tename" type="text" lay-verify="title" autocomplete="off"class="layui-input">'+
	            '</div>'+
	            '</div>'+
	            '<div class="layui-form-item">'+
	        	'<label class="layui-form-label">学历</label>'+
	        	'<div class="layui-input-block">'+
	              '<input id="tename" type="text" lay-verify="title" autocomplete="off"class="layui-input">'+
	            '</div>'+
	            '</div>'+
	            '<div class="layui-form-item">'+
	        	'<label class="layui-form-label">入职时间</label>'+
	        	'<div class="layui-input-block">'+
	        	  '<input type="text" class="layui-input" id="test2">'+
	            '</div>'+
	            '</div>'+
	            '<div class="layui-form-item">'+
	            '<label class="layui-form-label">类别</label>'+
	            '<div class="layui-input-block">'+
	              '<select name="interest" lay-filter="aihao">'+
	                '<option value="0" selected>美术</option>'+
	                '<option value="1" >音乐</option>'+
	              '</select>'+
	            '</div>'+
	            '</div>'+
	            '<div class="layui-form-item">'+
	            '<div class="layui-input-block">'+
	              '<button type="submit" class="layui-btn tmsbutton0" lay-submit="" lay-filter="demo1">确定</button>'+
	              '<button type="reset" class="layui-btn layui-btn-primary tmsbutton0">取消</button>'+
	            '</div>'+
	            '</div>'+
	            '</form>'+
	            '</div>'+
	            '<div class="layui-col-md5" >'+
	            '<div class="layui-row" style="margin-top:24%;">'+
	            '<img src="/pic/profile.png"/>'+
	            '</div>'+
	            '<div class="layui-row" style="margin-left:30%;">'+
	            '<button type="button" class="layui-btn tmsbutton0" id="uploadBtn">'+
    			'上传头像'+
				'</button>'+
				'</div>'+
	            '</div>'+
	            '</div>'
	        ,success:function(){
	        	form.render();
	        	laydate.render({
	        	    elem: '#test1' //指定元素
	        	});
	        	laydate.render({
	        	    elem: '#test2' //指定元素
	        	});
	        	layui.use('upload', function () {
	    		    var upload = layui.upload;
	    		    //执行实例
	    		    var uploadInst = upload.render({
	    		        elem: '#uploadBtn' //绑定元素
	    		        , url: '/upload/setFileUpload' //上传接口
	    		        , multiple: true
	    		        , before: function (obj) {
	    		            //可设置回显
	    		            console.log(obj)
	    		        }
	    		        , done: function (res) {
	    				    console.log('s');
	    		            console.log(res);
	    		            //上传完毕回调
	    		            if (res.code != 1000) {
	    		                return layer.msg('上传失败');
	    		            } else {
	    		                return layer.msg('上传成功');
	    		            }
	    		        }
	    		        , error: function () {
	    		            //请求异常回调
	    		        }
	    		    });
	    		  });	  
	        },
		 });
	  });
	  
	});
</script>

</body>
</html>